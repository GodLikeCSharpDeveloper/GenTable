@inherits MainLayout


<div class="card" style="border-radius: 10px;">
    <div class="card-header px-4 py-5">
        <h5 class="text-muted mb-0">Thanks for your Order, <span style="color: #a8729a;">@CurrentUser.FirstName</span>!</h5>
    </div>
    <div class="card-body p-4">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <p class="lead fw-normal mb-0" style="color: #a8729a;">Receipts</p>
        </div>
        <div class="card shadow-0 border mb-4">
            <div class="card-body">
                <div class="row">
                    <div class="col-md-2 text-center d-flex justify-content-center align-items-center">
                        <p class="text-muted mb-0">Order ID</p>
                    </div>
                    <div class="col-md-2 text-center d-flex justify-content-center align-items-center">
                        <p class="text-muted mb-0 small">Order price</p>
                    </div>
                    <div class="col-md-2 text-center d-flex justify-content-center align-items-center">
                        <p class="text-muted mb-0 small">Open order date</p>
                    </div>
                    <div class="col-md-2 text-center d-flex justify-content-center align-items-center">
                        <p class="text-muted mb-0 small">Close order date</p>
                    </div>
                    <div class="col-md-2 text-center d-flex justify-content-center align-items-center">
                        <p class="text-muted mb-0 small">Open order</p>
                    </div>

                </div>
                @foreach (var order in CurrentUser.Orders)
                {
                    <div class="row">
                        <div class="col-md-2 text-center d-flex justify-content-center align-items-center">
                            <p class="text-muted mb-0">@order.Id</p>
                        </div>
                        <div class="col-md-2 text-center d-flex justify-content-center align-items-center">
                            <p class="text-muted mb-0 small">@order.FullPrice</p>
                        </div>
                        <div class="col-md-2 text-center d-flex justify-content-center align-items-center">
                            <p class="text-muted mb-0 small">@order.CloseOrderDate</p>
                        </div>
                        <div class="col-md-2 text-center d-flex justify-content-center align-items-center">
                            <p class="text-muted mb-0 small">@order.CreateOrderDate</p>
                        </div>
                        <div class="col-md-2 text-center d-flex justify-content-center align-items-center">
                            <p class="text-muted mb-0 small">@order.IsCanceled</p>
                        </div>
                        <div class="col-md-2 text-center d-flex justify-content-center align-items-center">
                            <button class="text-muted mb-0 small" @onclick="()=>OpenAllProducts(order.CssBool)">DO SMTH COOL</button>
                        </div>

                    </div>
                    <div class="row">
                    @if (order.CssBool)
                    {
                        <ul class="list-group list-group-horizontal">
                            <li class="list-group-item">Name</li>
                            <li class="list-group-item">Category</li>
                            <li class="list-group-item">Price</li>
                            <li class="list-group-item">IsCashback</li>
                        </ul>
                        @foreach (var products in order.Products)
                        {
                            <ul class="list-group list-group-horizontal">
                                <li class="list-group-item">@products.Name</li>
                                <li class="list-group-item"></li>
                                <li class="list-group-item">@products.Price</li>
                                <li class="list-group-item">@products.IsCashback</li>
                            </ul>
                        }
                    <div class="card-footer">
                        Card footer
                    </div>
                    
                    }
                    </div>
                }

            </div>
        </div>
    </div>
</div>


@code {

    public bool OpenAllProducts(bool toChange)
    {
        toChange = !toChange;
        return toChange;
    }
    //protected override void OnInitialized()
    //{

     
    //}
   
}
